---
title: "Geography 176A"
author: "[Leslie Alonzo](https://LeslieAlonzo98.github.io)"
subtitle: 'Daily Exercise 17'
output:
  html_document:
    theme: journal
---

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
library(sf)
library(stars)
library(units)
library(raster)
library(mapview)
library(elevatr)
library(rmapshaper)
library(USAboundaries)
library(rgdal)
```

```{r, echo = FALSE, warning=FALSE, message=FALSE}
gol = read_csv("../docs/uscities.csv") %>% 
  st_as_sf(coords = c("lng","lat"), crs = 4326) %>% 
  filter(city == "Goleta") %>%
  dplyr::select(city) %>% 
  st_transform(5070) %>%
  st_buffer(5000) %>% 
  st_bbox() %>% 
  st_as_sfc() %>%
  st_as_sf()

elev = elevatr::get_elev_raster(gol, z = 11) %>% 
  crop(gol)

log10(elev)


elev2 = elev
elev2[elev2 <= 0] = NA

plot(elev2)

writeRaster(elev2, filename = "../../geog-176A-labs/data/goletaelev.tif", overwrite = TRUE)


```

